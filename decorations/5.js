module.exports = (createCanvas, concatMatrix, enhanceContext, cxform, place, tocolor, drawMorphPath, useRatio, drawPath, shadeColor, colorPalette) => { var width=70,height=51;
var canvas=createCanvas(width,height);

var ctx=canvas.getContext("2d");
enhanceContext(ctx);
var ctrans = new cxform(0,0,0,0,255,255,255,255);
function shape533(ctx,ctrans,frame,ratio,time){var pathData="M 317 27 L -261 27 -261 -66 317 -66 317 27";ctx.fillStyle=tocolor(ctrans.apply([121,148,20,1]));drawPath(ctx,pathData,false);ctx.fill("evenodd")}function shape534(ctx,ctrans,frame,ratio,time){var pathData="M -347 481 Q -504 -597 -135 -1503 -13 -1803 154 -2050 262 -2209 341 -2287 221 -1952 121 -1452 -78 -452 23 372 -246 459 -347 481";var grd=ctx.createLinearGradient(-81.0,-2366.0,-57.0,248.0);grd.addColorStop(0.0,tocolor(ctrans.apply([204,200,69,1])));grd.addColorStop(0.32941176470588235,tocolor(ctrans.apply([199,199,55,1])));grd.addColorStop(0.788235294117647,tocolor(ctrans.apply([60,92,10,0.8627451])));grd.addColorStop(1.0,tocolor(ctrans.apply([111,125,12,0.4509804])));ctx.fillStyle=grd;drawPath(ctx,pathData,false);ctx.fill("evenodd");var pathData="M -347 481 Q -504 -597 -135 -1503 -13 -1803 154 -2050 262 -2209 341 -2287 221 -1952 121 -1452 -78 -452 23 372";var oldctx=ctx;ctx.save();var lcanvas=document.createElement("canvas");lcanvas.width=canvas.width;lcanvas.height=canvas.height;var lctx=lcanvas.getContext("2d");enhanceContext(lctx);lctx.applyTransforms(ctx._matrix);ctx=lctx;var scaleMode="NORMAL";ctx.lineWidth=0.5;ctx.lineCap="round";ctx.lineJoin="round";drawPath(ctx,pathData,true,scaleMode);var lfcanvas=document.createElement("canvas");lfcanvas.width=canvas.width;lfcanvas.height=canvas.height;var lfctx=lfcanvas.getContext("2d");enhanceContext(lfctx);lfctx.applyTransforms(ctx._matrix);ctx=lfctx;ctx.fillStyle=tocolor(ctrans.apply([107,107,29,0.0]));ctx.fill("evenodd");var grd=ctx.createLinearGradient(26.25,-2042.25,-190.25,-241.75);grd.addColorStop(0.396078431372549,tocolor(ctrans.apply([155,155,23,0.8509804])));grd.addColorStop(1.0,tocolor(ctrans.apply([107,107,29,0.0])));ctx.fillStyle=grd;ctx.fillRect(-16384,-16384,32768,32768);ctx=oldctx;var limgd=lctx.getImageData(0,0,lcanvas.width,lcanvas.height);var lpix=limgd.data;var lfimgd=lfctx.getImageData(0,0,lfcanvas.width,lfcanvas.height);var lfpix=lfimgd.data;var imgd=ctx.getImageData(0,0,canvas.width,canvas.height);var pix=imgd.data;for(var i=0;i<lpix.length;i+=4){if(lpix[i+3]>0){pix[i]=lfpix[i];pix[i+1]=lfpix[i+1];pix[i+2]=lfpix[i+2];pix[i+3]=lfpix[i+3]}}ctx.putImageData(imgd,0,0);ctx.restore()}function sprite535(ctx,ctrans,frame,ratio,time){var clips=[];var frame_cnt=1;frame=frame%frame_cnt;switch(frame){case 0:place(shape534,canvas,ctx,[1.0,0.0,0.0,1.0,0.0,0.0],ctrans,1,0,0,time);break}}function sprite536(ctx,ctrans,frame,ratio,time){var clips=[];var frame_cnt=1;frame=frame%frame_cnt;switch(frame){case 0:place(sprite535,canvas,ctx,[1.0,0.0,0.0,1.0,30.0,-52.0],ctrans,1,(0+time)%1,0,time);place(sprite535,canvas,ctx,[0.5411224365234375,0.0,0.0,0.5411224365234375,252.0,36.0],ctrans.merge(new cxform(0,0,0,0,256,256,256,174)),1,(0+time)%1,0,time);place(sprite535,canvas,ctx,[-0.5411224365234375,0.0,0.0,0.5411224365234375,63.0,202.0],ctrans.merge(new cxform(0,0,0,0,256,256,256,174)),1,(0+time)%1,0,time);break}}function sprite537(ctx,ctrans,frame,ratio,time){ctx.save();ctx.transform(1,0,0,1,34.45,45.2);var clips=[];var frame_cnt=1;frame=frame%frame_cnt;switch(frame){case 0:clips.push({ctx:ctx,canvas:canvas});var ccanvas=createCanvas(canvas.width,canvas.height);var cctx=ccanvas.getContext("2d");enhanceContext(cctx);cctx.applyTransforms(ctx._matrix);canvas=ccanvas;ctx=cctx;place(shape533,canvas,ctx,[0.12231826782226562,0.0,0.0,0.4865592956542969,-2.5,-13.1],ctrans,1,0,0,time);clips[clips.length-1].clipCanvas=canvas;canvas=createCanvas(canvas.width,canvas.height);var nctx=canvas.getContext("2d");enhanceContext(nctx);nctx.applyTransforms(ctx._matrix);ctx=nctx;place(shape533,canvas,ctx,[0.05,0.0,0.0,0.05,0.0,0.0],ctrans,1,0,0,time);var oldctx=ctx;var fcanvas=createCanvas(canvas.width,canvas.height);var fctx=fcanvas.getContext("2d");enhanceContext(fctx);fctx.applyTransforms(ctx._matrix);ctx=fctx;place(sprite536,canvas,ctx,[0.015683746337890624,0.001336669921875,0.0,0.016307830810546875,7.3,-1.9],ctrans,1,(0+time)%1,0,time);fcanvas=Filters.colorMatrix(fcanvas,fcanvas.getContext("2d"),[0.8536306,0.3348422,-0.22847286,0.0,24.619997,0.028245732,0.8381558,0.09359846,0.0,24.620003,0.27558374,-0.04547324,0.7298894,0.0,24.619999,0.0,0.0,0.0,1.0,0.0]);fcanvas=Filters.colorMatrix(fcanvas,fcanvas.getContext("2d"),[1.0312696,-0.60622346,0.574954,0.0,-4.0,-0.0044584963,1.2101957,-0.20573711,0.0,-3.9999998,-0.6039983,0.31564966,1.2883486,0.0,-3.9999995,0.0,0.0,0.0,1.0,0.0]);ctx=oldctx;var ms=ctx._matrix;ctx.setTransform(1,0,0,1,0,0);ctx.drawImage(fcanvas,0,0);ctx.applyTransforms(ms);var oldctx=ctx;var fcanvas=createCanvas(canvas.width,canvas.height);var fctx=fcanvas.getContext("2d");enhanceContext(fctx);fctx.applyTransforms(ctx._matrix);ctx=fctx;place(sprite536,canvas,ctx,[0.008158111572265625,-6.95037841796875E-4,0.0,0.009519195556640625,3.6,-8.25],ctrans,1,(0+time)%1,0,time);fcanvas=Filters.colorMatrix(fcanvas,fcanvas.getContext("2d"),[0.8536306,0.3348422,-0.22847286,0.0,24.619997,0.028245732,0.8381558,0.09359846,0.0,24.620003,0.27558374,-0.04547324,0.7298894,0.0,24.619999,0.0,0.0,0.0,1.0,0.0]);fcanvas=Filters.colorMatrix(fcanvas,fcanvas.getContext("2d"),[1.0312696,-0.60622346,0.574954,0.0,-54.000004,-0.0044584963,1.2101957,-0.20573711,0.0,-54.0,-0.6039983,0.31564966,1.2883486,0.0,-53.999992,0.0,0.0,0.0,1.0,0.0]);ctx=oldctx;var ms=ctx._matrix;ctx.setTransform(1,0,0,1,0,0);ctx.drawImage(fcanvas,0,0);ctx.applyTransforms(ms);var oldctx=ctx;var fcanvas=createCanvas(canvas.width,canvas.height);var fctx=fcanvas.getContext("2d");enhanceContext(fctx);fctx.applyTransforms(ctx._matrix);ctx=fctx;place(sprite536,canvas,ctx,[0.011071014404296874,-9.429931640625E-4,0.001781463623046875,0.013521575927734375,0.8,-8.5],ctrans,1,(0+time)%1,0,time);fcanvas=Filters.colorMatrix(fcanvas,fcanvas.getContext("2d"),[0.8536306,0.3348422,-0.22847286,0.0,24.619997,0.028245732,0.8381558,0.09359846,0.0,24.620003,0.27558374,-0.04547324,0.7298894,0.0,24.619999,0.0,0.0,0.0,1.0,0.0]);fcanvas=Filters.colorMatrix(fcanvas,fcanvas.getContext("2d"),[1.0312696,-0.60622346,0.574954,0.0,-14.0,-0.0044584963,1.2101957,-0.20573711,0.0,-14.000001,-0.6039983,0.31564966,1.2883486,0.0,-13.999999,0.0,0.0,0.0,1.0,0.0]);ctx=oldctx;var ms=ctx._matrix;ctx.setTransform(1,0,0,1,0,0);ctx.drawImage(fcanvas,0,0);ctx.applyTransforms(ms);var oldctx=ctx;var fcanvas=createCanvas(canvas.width,canvas.height);var fctx=fcanvas.getContext("2d");enhanceContext(fctx);fctx.applyTransforms(ctx._matrix);ctx=fctx;place(sprite536,canvas,ctx,[-0.00788726806640625,0.001039886474609375,0.00447998046875,0.00874786376953125,6.15,-6.35],ctrans,1,(0+time)%1,0,time);fcanvas=Filters.colorMatrix(fcanvas,fcanvas.getContext("2d"),[0.8536306,0.3348422,-0.22847286,0.0,24.619997,0.028245732,0.8381558,0.09359846,0.0,24.620003,0.27558374,-0.04547324,0.7298894,0.0,24.619999,0.0,0.0,0.0,1.0,0.0]);fcanvas=Filters.colorMatrix(fcanvas,fcanvas.getContext("2d"),[1.0312696,-0.60622346,0.574954,0.0,-14.0,-0.0044584963,1.2101957,-0.20573711,0.0,-14.000001,-0.6039983,0.31564966,1.2883486,0.0,-13.999999,0.0,0.0,0.0,1.0,0.0]);ctx=oldctx;var ms=ctx._matrix;ctx.setTransform(1,0,0,1,0,0);ctx.drawImage(fcanvas,0,0);ctx.applyTransforms(ms);var oldctx=ctx;var fcanvas=createCanvas(canvas.width,canvas.height);var fctx=fcanvas.getContext("2d");enhanceContext(fctx);fctx.applyTransforms(ctx._matrix);ctx=fctx;place(sprite536,canvas,ctx,[0.00788726806640625,0.001039886474609375,-0.00447998046875,0.00874786376953125,2.95,-1.65],ctrans,1,(0+time)%1,0,time);fcanvas=Filters.colorMatrix(fcanvas,fcanvas.getContext("2d"),[0.8536306,0.3348422,-0.22847286,0.0,24.619997,0.028245732,0.8381558,0.09359846,0.0,24.620003,0.27558374,-0.04547324,0.7298894,0.0,24.619999,0.0,0.0,0.0,1.0,0.0]);fcanvas=Filters.colorMatrix(fcanvas,fcanvas.getContext("2d"),[1.0312696,-0.60622346,0.574954,0.0,-14.0,-0.0044584963,1.2101957,-0.20573711,0.0,-14.000001,-0.6039983,0.31564966,1.2883486,0.0,-13.999999,0.0,0.0,0.0,1.0,0.0]);ctx=oldctx;var ms=ctx._matrix;ctx.setTransform(1,0,0,1,0,0);ctx.drawImage(fcanvas,0,0);ctx.applyTransforms(ms);var oldctx=ctx;var fcanvas=createCanvas(canvas.width,canvas.height);var fctx=fcanvas.getContext("2d");enhanceContext(fctx);fctx.applyTransforms(ctx._matrix);ctx=fctx;place(sprite536,canvas,ctx,[-0.012772369384765624,0.0035858154296875,0.00600433349609375,0.012872314453125,-5.95,-5.95],ctrans,1,(0+time)%1,0,time);fcanvas=Filters.colorMatrix(fcanvas,fcanvas.getContext("2d"),[0.8536306,0.3348422,-0.22847286,0.0,24.619997,0.028245732,0.8381558,0.09359846,0.0,24.620003,0.27558374,-0.04547324,0.7298894,0.0,24.619999,0.0,0.0,0.0,1.0,0.0]);fcanvas=Filters.colorMatrix(fcanvas,fcanvas.getContext("2d"),[1.0312696,-0.60622346,0.574954,0.0,-2.0,-0.0044584963,1.2101957,-0.20573711,0.0,-1.9999999,-0.6039983,0.31564966,1.2883486,0.0,-1.9999998,0.0,0.0,0.0,1.0,0.0]);ctx=oldctx;var ms=ctx._matrix;ctx.setTransform(1,0,0,1,0,0);ctx.drawImage(fcanvas,0,0);ctx.applyTransforms(ms);var oldctx=ctx;var fcanvas=createCanvas(canvas.width,canvas.height);var fctx=fcanvas.getContext("2d");enhanceContext(fctx);fctx.applyTransforms(ctx._matrix);ctx=fctx;place(sprite536,canvas,ctx,[-0.008850860595703124,0.00258941650390625,0.00858917236328125,0.007227325439453125,-6.5,-0.05],ctrans,1,(0+time)%1,0,time);fcanvas=Filters.colorMatrix(fcanvas,fcanvas.getContext("2d"),[0.8536306,0.3348422,-0.22847286,0.0,24.619997,0.028245732,0.8381558,0.09359846,0.0,24.620003,0.27558374,-0.04547324,0.7298894,0.0,24.619999,0.0,0.0,0.0,1.0,0.0]);fcanvas=Filters.colorMatrix(fcanvas,fcanvas.getContext("2d"),[1.0312696,-0.60622346,0.574954,0.0,-14.0,-0.0044584963,1.2101957,-0.20573711,0.0,-14.000001,-0.6039983,0.31564966,1.2883486,0.0,-13.999999,0.0,0.0,0.0,1.0,0.0]);ctx=oldctx;var ms=ctx._matrix;ctx.setTransform(1,0,0,1,0,0);ctx.drawImage(fcanvas,0,0);ctx.applyTransforms(ms);var oldctx=ctx;var fcanvas=createCanvas(canvas.width,canvas.height);var fctx=fcanvas.getContext("2d");enhanceContext(fctx);fctx.applyTransforms(ctx._matrix);ctx=fctx;place(sprite536,canvas,ctx,[-0.009644317626953124,-8.21685791015625E-4,0.001915740966796875,0.011415863037109375,-4.15,-5.6],ctrans,1,(0+time)%1,0,time);fcanvas=Filters.colorMatrix(fcanvas,fcanvas.getContext("2d"),[0.8536306,0.3348422,-0.22847286,0.0,24.619997,0.028245732,0.8381558,0.09359846,0.0,24.620003,0.27558374,-0.04547324,0.7298894,0.0,24.619999,0.0,0.0,0.0,1.0,0.0]);fcanvas=Filters.colorMatrix(fcanvas,fcanvas.getContext("2d"),[1.0312696,-0.60622346,0.574954,0.0,-35.0,-0.0044584963,1.2101957,-0.20573711,0.0,-35.000004,-0.6039983,0.31564966,1.2883486,0.0,-35.0,0.0,0.0,0.0,1.0,0.0]);ctx=oldctx;var ms=ctx._matrix;ctx.setTransform(1,0,0,1,0,0);ctx.drawImage(fcanvas,0,0);ctx.applyTransforms(ms);var oldctx=ctx;var fcanvas=createCanvas(canvas.width,canvas.height);var fctx=fcanvas.getContext("2d");enhanceContext(fctx);fctx.applyTransforms(ctx._matrix);ctx=fctx;place(sprite536,canvas,ctx,[0.010675048828125,-7.22503662109375E-4,0.0,0.009896087646484374,2.55,-1.4],ctrans,1,(0+time)%1,0,time);fcanvas=Filters.colorMatrix(fcanvas,fcanvas.getContext("2d"),[0.8536306,0.3348422,-0.22847286,0.0,24.619997,0.028245732,0.8381558,0.09359846,0.0,24.620003,0.27558374,-0.04547324,0.7298894,0.0,24.619999,0.0,0.0,0.0,1.0,0.0]);fcanvas=Filters.colorMatrix(fcanvas,fcanvas.getContext("2d"),[1.0312696,-0.60622346,0.574954,0.0,-14.0,-0.0044584963,1.2101957,-0.20573711,0.0,-14.000001,-0.6039983,0.31564966,1.2883486,0.0,-13.999999,0.0,0.0,0.0,1.0,0.0]);ctx=oldctx;var ms=ctx._matrix;ctx.setTransform(1,0,0,1,0,0);ctx.drawImage(fcanvas,0,0);ctx.applyTransforms(ms);var oldctx=ctx;var fcanvas=createCanvas(canvas.width,canvas.height);var fctx=fcanvas.getContext("2d");enhanceContext(fctx);fctx.applyTransforms(ctx._matrix);ctx=fctx;place(sprite536,canvas,ctx,[0.010028076171875,0.001322174072265625,-0.005695343017578125,0.01112213134765625,8.7,-6.8],ctrans,1,(0+time)%1,0,time);fcanvas=Filters.colorMatrix(fcanvas,fcanvas.getContext("2d"),[0.8536306,0.3348422,-0.22847286,0.0,24.619997,0.028245732,0.8381558,0.09359846,0.0,24.620003,0.27558374,-0.04547324,0.7298894,0.0,24.619999,0.0,0.0,0.0,1.0,0.0]);fcanvas=Filters.colorMatrix(fcanvas,fcanvas.getContext("2d"),[1.0312696,-0.60622346,0.574954,0.0,-45.0,-0.0044584963,1.2101957,-0.20573711,0.0,-45.0,-0.6039983,0.31564966,1.2883486,0.0,-44.999992,0.0,0.0,0.0,1.0,0.0]);ctx=oldctx;var ms=ctx._matrix;ctx.setTransform(1,0,0,1,0,0);ctx.drawImage(fcanvas,0,0);ctx.applyTransforms(ms);var oldctx=ctx;var fcanvas=createCanvas(canvas.width,canvas.height);var fctx=fcanvas.getContext("2d");enhanceContext(fctx);fctx.applyTransforms(ctx._matrix);ctx=fctx;place(sprite536,canvas,ctx,[0.010675048828125,-9.09423828125E-4,0.0,0.01181182861328125,8.65,-1.55],ctrans,1,(0+time)%1,0,time);fcanvas=Filters.colorMatrix(fcanvas,fcanvas.getContext("2d"),[0.8536306,0.3348422,-0.22847286,0.0,24.619997,0.028245732,0.8381558,0.09359846,0.0,24.620003,0.27558374,-0.04547324,0.7298894,0.0,24.619999,0.0,0.0,0.0,1.0,0.0]);fcanvas=Filters.colorMatrix(fcanvas,fcanvas.getContext("2d"),[1.0312696,-0.60622346,0.574954,0.0,-14.0,-0.0044584963,1.2101957,-0.20573711,0.0,-14.000001,-0.6039983,0.31564966,1.2883486,0.0,-13.999999,0.0,0.0,0.0,1.0,0.0]);ctx=oldctx;var ms=ctx._matrix;ctx.setTransform(1,0,0,1,0,0);ctx.drawImage(fcanvas,0,0);ctx.applyTransforms(ms);var oldctx=ctx;var fcanvas=createCanvas(canvas.width,canvas.height);var fctx=fcanvas.getContext("2d");enhanceContext(fctx);fctx.applyTransforms(ctx._matrix);ctx=fctx;place(sprite536,canvas,ctx,[-0.007671356201171875,0.004575347900390625,0.007338714599609375,0.005152130126953125,-10.3,0.15],ctrans,1,(0+time)%1,0,time);fcanvas=Filters.colorMatrix(fcanvas,fcanvas.getContext("2d"),[0.8536306,0.3348422,-0.22847286,0.0,24.619997,0.028245732,0.8381558,0.09359846,0.0,24.620003,0.27558374,-0.04547324,0.7298894,0.0,24.619999,0.0,0.0,0.0,1.0,0.0]);fcanvas=Filters.colorMatrix(fcanvas,fcanvas.getContext("2d"),[1.0312696,-0.60622346,0.574954,0.0,-14.0,-0.0044584963,1.2101957,-0.20573711,0.0,-14.000001,-0.6039983,0.31564966,1.2883486,0.0,-13.999999,0.0,0.0,0.0,1.0,0.0]);ctx=oldctx;var ms=ctx._matrix;ctx.setTransform(1,0,0,1,0,0);ctx.drawImage(fcanvas,0,0);ctx.applyTransforms(ms);var oldctx=ctx;var fcanvas=createCanvas(canvas.width,canvas.height);var fctx=fcanvas.getContext("2d");enhanceContext(fctx);fctx.applyTransforms(ctx._matrix);ctx=fctx;place(sprite536,canvas,ctx,[-0.010654449462890625,8.544921875E-4,0.0025787353515625,0.007830047607421875,-1.8,-0.6],ctrans,1,(0+time)%1,0,time);fcanvas=Filters.colorMatrix(fcanvas,fcanvas.getContext("2d"),[0.8536306,0.3348422,-0.22847286,0.0,24.619997,0.028245732,0.8381558,0.09359846,0.0,24.620003,0.27558374,-0.04547324,0.7298894,0.0,24.619999,0.0,0.0,0.0,1.0,0.0]);fcanvas=Filters.colorMatrix(fcanvas,fcanvas.getContext("2d"),[1.0312696,-0.60622346,0.574954,0.0,-14.0,-0.0044584963,1.2101957,-0.20573711,0.0,-14.000001,-0.6039983,0.31564966,1.2883486,0.0,-13.999999,0.0,0.0,0.0,1.0,0.0]);ctx=oldctx;var ms=ctx._matrix;ctx.setTransform(1,0,0,1,0,0);ctx.drawImage(fcanvas,0,0);ctx.applyTransforms(ms);var oldctx=ctx;var fcanvas=createCanvas(canvas.width,canvas.height);var fctx=fcanvas.getContext("2d");enhanceContext(fctx);fctx.applyTransforms(ctx._matrix);ctx=fctx;place(sprite536,canvas,ctx,[0.007671356201171875,0.004575347900390625,-0.007338714599609375,0.005152130126953125,14.85,-3.65],ctrans,1,(0+time)%1,0,time);fcanvas=Filters.colorMatrix(fcanvas,fcanvas.getContext("2d"),[0.8536306,0.3348422,-0.22847286,0.0,24.619997,0.028245732,0.8381558,0.09359846,0.0,24.620003,0.27558374,-0.04547324,0.7298894,0.0,24.619999,0.0,0.0,0.0,1.0,0.0]);fcanvas=Filters.colorMatrix(fcanvas,fcanvas.getContext("2d"),[0.9749882,-0.6338482,0.6588598,0.0,-54.999996,0.018172836,1.208637,-0.22680996,0.0,-55.0,-0.66198653,0.41198826,1.2499981,0.0,-54.999992,0.0,0.0,0.0,1.0,0.0]);ctx=oldctx;var ms=ctx._matrix;ctx.setTransform(1,0,0,1,0,0);ctx.drawImage(fcanvas,0,0);ctx.applyTransforms(ms);var oldctx=ctx;var fcanvas=createCanvas(canvas.width,canvas.height);var fctx=fcanvas.getContext("2d");enhanceContext(fctx);fctx.applyTransforms(ctx._matrix);ctx=fctx;place(sprite536,canvas,ctx,[-0.008158111572265625,-5.523681640625E-4,0.0,0.007563018798828125,13.65,-0.7],ctrans,1,(0+time)%1,0,time);fcanvas=Filters.colorMatrix(fcanvas,fcanvas.getContext("2d"),[0.8536306,0.3348422,-0.22847286,0.0,24.619997,0.028245732,0.8381558,0.09359846,0.0,24.620003,0.27558374,-0.04547324,0.7298894,0.0,24.619999,0.0,0.0,0.0,1.0,0.0]);fcanvas=Filters.colorMatrix(fcanvas,fcanvas.getContext("2d"),[0.9749882,-0.6338482,0.6588598,0.0,-54.999996,0.018172836,1.208637,-0.22680996,0.0,-55.0,-0.66198653,0.41198826,1.2499981,0.0,-54.999992,0.0,0.0,0.0,1.0,0.0]);ctx=oldctx;var ms=ctx._matrix;ctx.setTransform(1,0,0,1,0,0);ctx.drawImage(fcanvas,0,0);ctx.applyTransforms(ms);var oldctx=ctx;var fcanvas=createCanvas(canvas.width,canvas.height);var fctx=fcanvas.getContext("2d");enhanceContext(fctx);fctx.applyTransforms(ctx._matrix);ctx=fctx;place(sprite536,canvas,ctx,[0.008099365234375,5.035400390625E-4,-0.002991485595703125,0.0043365478515625,13.2,0.25],ctrans,1,(0+time)%1,0,time);fcanvas=Filters.colorMatrix(fcanvas,fcanvas.getContext("2d"),[0.8536306,0.3348422,-0.22847286,0.0,24.619997,0.028245732,0.8381558,0.09359846,0.0,24.620003,0.27558374,-0.04547324,0.7298894,0.0,24.619999,0.0,0.0,0.0,1.0,0.0]);fcanvas=Filters.colorMatrix(fcanvas,fcanvas.getContext("2d"),[1.0312696,-0.60622346,0.574954,0.0,-14.0,-0.0044584963,1.2101957,-0.20573711,0.0,-14.000001,-0.6039983,0.31564966,1.2883486,0.0,-13.999999,0.0,0.0,0.0,1.0,0.0]);ctx=oldctx;var ms=ctx._matrix;ctx.setTransform(1,0,0,1,0,0);ctx.drawImage(fcanvas,0,0);ctx.applyTransforms(ms);var o=clips.pop();ctx.globalCompositeOperation="destination-in";ctx.setTransform(1,0,0,1,0,0);ctx.drawImage(o.clipCanvas,0,0);var ms=o.ctx._matrix;o.ctx.setTransform(1,0,0,1,0,0);o.ctx.globalCompositeOperation="source-over";o.ctx.drawImage(canvas,0,0);o.ctx.applyTransforms(ms);ctx=o.ctx;canvas=o.canvas;break}ctx.restore()}var frame=-1;var time=0;var frames=[];frames.push(0);var backgroundColor="#ffffff00";var originalWidth=70;var originalHeight=51;function nextFrame(ctx,ctrans){var oldframe=frame;frame=(frame+1)%frames.length;if(frame==oldframe){time++}else{time=0};drawFrame()}function drawFrame(){ctx.fillStyle=backgroundColor;ctx.fillRect(0,0,canvas.width,canvas.height);ctx.save();ctx.transform(canvas.width/originalWidth,0,0,canvas.height/originalHeight,0,0);sprite537(ctx,ctrans,frames[frame],0,time);ctx.restore()}nextFrame(ctx,ctrans);
return [canvas,width,height];}